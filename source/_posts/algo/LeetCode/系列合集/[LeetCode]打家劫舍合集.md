---
title: '[LeetCode]打家劫舍合集'
toc: true
tags:
  - 状态机
  - 动态规划

categories:
  - - algo
    - LeetCode
    - 系列合集
date: 2021-11-19 20:56:00
updated:
---

简单整理一下LeetCode上`打家劫舍`系列题目, 该系列作为**状态机动态规划**的入门题相当的好.
<!--more-->

## [打家劫舍](https://leetcode-cn.com/problems/house-robber/) 

### 题目描述
有一行非负数, 不能选连续两个数, 求选的数之和的最大值.

### 思路
整体思路上使用[状态机](https://baike.baidu.com/item/%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA/2850046?fr=aladdin)的思路解决.
- 状态机关心的是**当前处于何种状态**, 所有可能的状态**转移方式**与**条件**.
- 结合本题, 我们使用**状态机动态规划**解决本题.
- 动态规划
  - 状态定义: 
    1. $f[i][0]$表示考虑了前`i`个数, 且不拿`i`号位置的情况下取得的最大价值
    2. $f[i][1]$表示考虑了前`i`个数, 且拿`i`号位置的情况下取得的最大价值
  - 状态转移:
    1. 若不拿`i`号位置, 则`i - 1`位置可拿可不拿, 因此$f[i][0] = max(f[i - 1][0], f[i - 1][1])$
    2. 若拿`i`号位置, 则`i - 1`位置必不能被拿, 因此$f[i][1] = f[i - 1][0] + nums[i]$

- 最后的答案为$max(f[n][0], f[n][1])$
- 任何一种拿与不拿的决策, 均对应于有限状态机中不同状态之间的一条转移边.
![决策示意图](/img/2021/11/19/打家劫舍.png)

### Code
```cpp
class Solution {
public:
    int rob(vector<int>& nums) {
        int n = nums.size();
        vector<vector<int>> f(n + 1, vector<int>(2, 0));
        for (int i = 1; i <= n; i ++ ) {
            f[i][0] = max(f[i - 1][0], f[i - 1][1]);
            f[i][1] = f[i - 1][0] + nums[i - 1];
        }
        return max(f[n][0], f[n][1]);
    }
};
```

### 复杂度分析

- 时间复杂度$O(N)$
- 空间复杂度$O(N)$(注意到当前状态只依赖于上一位置状态, 因此可以使用两个变量保存上一位置状态, 优化成$O(1)$)
----

## [打家劫舍 II](https://leetcode-cn.com/problems/house-robber-ii)

### 题目描述
基本题意与第一题类型, 只不过多了一个限制: 首尾不能同时拿.

### 思路

依照第一题的思路, 我们继续使用**状态机动态规划**解决. 只不过需要多一维的状态, 用于指示`1`号位置是否被拿, 因为这关系到最后一个位置的转移条件.

- 动态规划
  - 状态定义:
    1. $f[i][0][0]$表示`i`号位`1`号位都没拿.
    2. $f[i][0][1]$表示`i`号位没拿, `1`号位拿了.
    3. $f[i][1][0]$表示`i`号位拿了, `1`号位没拿.
    4. $f[i][1][1]$表示`i`号位`1`号位都拿了.
  - 状态转移：
    1. $f[i][0][0]$

### Code

### 复杂度分析

- 时间复杂度$O()$
- 空间复杂度$O()$
----

## [打家劫舍 III](https://leetcode-cn.com/problems/house-robber-iii/)

### 思路

### Code

### 复杂度分析
- 时间复杂度$O()$
- 空间复杂度$O()$
----

## 参考资料
- [B站yxc](https://space.bilibili.com/7836741?from=search&seid=17655252112390136376)
----
**欢迎讨论指正**